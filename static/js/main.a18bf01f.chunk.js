(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,a,t){e.exports=t.p+"static/media/FullVinyl6.f58fcdc5.png"},27:function(e,a,t){e.exports=t(58)},32:function(e,a,t){},57:function(e,a,t){e.exports=t.p+"static/media/shelf2.d7b9b7d4.png"},58:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),c=t(18),l=t.n(c),r=(t(32),t(19)),s=t(20),i=t(25),m=t(21),u=t(26),p=t(2),d=t(22),g="https://accounts.spotify.com/authorize",f="914bd207fc094241b1b53245a7767a03",h="https://masatonandate.github.io/spotifun/",b=["user-top-read","user-read-currently-playing","user-read-playback-state"],E=window.location.hash.substring(1).split("&").reduce(function(e,a){if(a){var t=a.split("=");e[t[0]]=decodeURIComponent(t[1])}return e},{});window.location.hash="";var v=E,w=function(e){var a=e.item,t=e.image;return o.a.createElement("div",{className:"visualizer"},o.a.createElement("img",{src:a.album.images[0].url,className:"App-logo",alt:"logo"}),o.a.createElement("img",{src:t,className:"record-player",alt:"record player"}))},y=t(23),k=t.n(y),N=(t(8),n.Component,t(6)),j=t(24),A=t.n(j),_=function(e){var a=e.album;return o.a.createElement("div",{className:"Image-Holder"},o.a.createElement("img",{key:a.id,src:a.album.images[0].url,className:"Album-Image",alt:"album"}),o.a.createElement("div",{className:"Song-Details"},o.a.createElement("h4",null,a.name),o.a.createElement("p",null,a.album.artists[0].name)))},O=(t(57),function(){var e=Object(n.useState)(null),a=Object(N.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)([]),r=Object(N.a)(l,2),s=r[0],i=r[1];return Object(n.useEffect)(function(){var e=v.access_token;e&&(c(e),console.log("token",t))}),Object(n.useEffect)(function(){console.log("inEffect"),console.log("token in access",t),t&&(console.log("in-branch"),A.a.get("https://api.spotify.com/v1/me/top/tracks",{params:{limit:9,time_range:"short_term"},headers:{Authorization:"Bearer ".concat(t)}}).then(function(e){console.log("response happened",e.data),i(e.data.items),console.log(s)}).catch(function(e){console.log("getting player",e)}))},[t]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},!t&&o.a.createElement("a",{className:"btn btn--loginApp-link",href:"".concat(g,"?client_id=").concat(f,"&redirect_uri=").concat(h,"&scope=").concat(b.join("%20"),"&response_type=token&show_dialog=true")},"Login to Spotify"),t&&s&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"Recently Played Tracks"),o.a.createElement("div",{className:"Album-Grid"},s.map(function(e){return console.log(e),o.a.createElement(_,{album:e})}))))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,a,t){}},[[27,1,2]]]);
//# sourceMappingURL=main.a18bf01f.chunk.js.map